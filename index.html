<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //function getComputerChoice() {
        //    let variants=(["rock", "paper", "scissors"]);
        //    return variants[Math.floor(Math.random()*variants.length)];
        //}
        //let computerSelection=getComputerChoice();
        //console.log(computerSelection);

        function playRound(playerSelection, computerSelection) {
            let declaration;
            if (playerSelection === computerSelection) {
                declaration="It's a tie!";
            } else if (computerSelection === "paper" && playerSelection === "rock") {
                declaration="You lost! Paper beats rock.";
            } else if (computerSelection === "scissors" && playerSelection === "rock") {
                declaration="You won! Rock beats scissors.";
            } else if (computerSelection === "paper" && playerSelection === "scissors") {
                declaration="You won! Scissors beat paper.";
            } else if (computerSelection === "scissors" && playerSelection === "paper") {
                declaration="You lost! Scissors beat paper.";
            } else if (computerSelection === "rock" && playerSelection === "scissors") {
                declaration="You lost! Rock beats scissors.";
            } else if (computerSelection === "rock" && playerSelection === "paper") {
                declaration="You won! Paper beats rock.";
            } 
            return declaration;
        }
        //let playerSelection=prompt("Choose rock, paper or scissors", "Type here");
        //console.log("Your selection is ", playerSelection);
        //console.log(playRound(playerSelection, computerSelection));

        function game() {
            let result;
            let computerScore=0;
            let playerScore=0;
            for (let i=0; i<5; i++) {
                let playerSelectionCS=prompt("Choose rock, paper or scissors", "Type here");
                console.log("Your selection is ", playerSelectionCS);
                let playerSelection=playerSelectionCS.toLowerCase();
                if (playerSelection !== "rock" || playerSelection !== "paper" || playerSelection !== "scissors") {
                    console.log("You should choose only between rock, paper and scissors.");
                    break;
                }
                function getComputerChoice() {
                let variants=(["rock", "paper", "scissors"]);
                return variants[Math.floor(Math.random()*variants.length)];
            }
                let computerSelection=getComputerChoice();
                console.log("Computer's selection is", computerSelection);
                playRound(playerSelection, computerSelection);
                if (playRound(playerSelection, computerSelection).charAt(4) === "w") {
                    playerScore++;
                } else if (playRound(playerSelection, computerSelection).charAt(4) === "l") {
                    computerScore++;
                } 
            console.log(playRound(playerSelection, computerSelection), "Your score is ", playerScore);    
            }

            if (computerScore > playerScore) {
                result="You lost the game";
            } else if (computerScore < playerScore) {
                result="Congratulations! You won the game";
            } else {
                result="It's a tie";
            }
            console.log("Your score is ", playerScore, ".", "Computer's score is ", computerScore, ".", result);
        }
        
        game();
    
        
    </script>
</body>
</html>